<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate="0">
        <record model="ir.ui.menu" id="menu_pedagogy_config">
            <field name="name">Pegagogy Configuration</field>
            <field name="groups_id"
                   eval="[(6,0,[ref('group_pedagogy_user'),ref('group_pedagogy_teacher'),ref('group_pedagogy_parent')])]"/>
        </record>
        <record model="ir.ui.menu" id="menu_pedagogy_reports">
            <field name="name">Pegagogy Menu Reports</field>
            <field name="groups_id" eval="[(6,0,[ref('group_pedagogy_pedagogy')])]"/>
        </record>
        <record model="ir.ui.menu" id="menu_pedagogy_enrollments">
            <field name="name">Pegagogy Enrollments</field>
            <field name="groups_id" eval="[(6,0,[ref('group_pedagogy_user')])]"/>
        </record>
        <record model="ir.ui.menu" id="menu_pedagogy_school_years">
            <field name="name">Pegagogy School Years</field>
            <field name="groups_id" eval="[(6,0,[ref('group_pedagogy_pedagogy')])]"/>
        </record>
        <record model="ir.ui.menu" id="menu_pedagogy_class_groups">
            <field name="name">Pegagogy Class Groups</field>
            <field name="groups_id" eval="[(6,0,[ref('group_pedagogy_pedagogy')])]"/>
        </record>
        <record model="ir.ui.menu" id="menu_pedagogy_classes_submenu">
            <field name="name">Pegagogy Class Submenu</field>
            <field name="groups_id" eval="[(6,0,[ref('group_pedagogy_pedagogy')])]"/>
        </record>
        <record model="ir.ui.menu" id="menu_pedagogy_students">
            <field name="name">Pegagogy Students</field>
            <field ref="base.model_res_partner" name="model_id"/>
            <field name="groups_id"
                   eval="[(6,0,[ref('group_pedagogy_pedagogy'),ref('group_pedagogy_parent'),ref('group_pedagogy_coordinator'),ref('group_pedagogy_secretary')])]"/>
        </record>
        <record id="pedagogy_base.parent_rule" model="ir.rule">
            <field name="name">Parent Rule</field>
            <field ref="base.model_res_partner" name="model_id"/>
            <field name="groups" eval="[(4, ref('pedagogy_base.group_pedagogy_parent'))]"/>
            <!--<field name="domain_force">[('is_student','=',True),('tutor_id.user_id.id','=',user.id)]</field>-->
        </record>
        <record id="parent_enrollments_rule" model="ir.rule">
            <field name="name">Parent Enrollments Rule</field>
            <field ref="model_pedagogy_enrollment" name="model_id"/>
            <field name="groups" eval="[(4, ref('pedagogy_base.group_pedagogy_parent'))]"/>
            <!--<field name="domain_force">[('student_id.tutor_id.user_id.id','=',user.id)]</field>-->
        </record>
        <record id="coordinator_students_rule" model="ir.rule">
            <field name="name">Coordinator Students Rule</field>
            <field ref="base.model_res_partner" name="model_id"/>
            <field name="groups" eval="[(4, ref('pedagogy_base.group_pedagogy_coordinator'))]"/>
            <!--<field name="domain_force">['|',('enrollments.class_year_id.class_id.group_id.group_area_id.coordinator_id.user_id.id','=',user.id),('enrollment_ids.class_year_id.year.coordinator.user_id.id','=',user.id)]</field>-->
        </record>

        <!--To prevent Partner Managers from being left out by the previous rules -->
        <record id="partner_manager_all_rule" model="ir.rule">
            <field name="name">Partner Manager All Rule</field>
            <field ref="base.model_res_partner" name="model_id"/>
            <field name="groups" eval="[(4, ref('base.group_partner_manager'))]"/>
            <!--<field name="domain_force">[(1,'=',1)]</field>-->
        </record>
    </data>
</openerp>
