<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record id="enrollments_grouped_by_year_class_tree" model="ir.ui.view">
            <field name="name">enrollments_grouped_by_year_class_tree</field>
            <field name="model">enrollments.grouped.by.year.class</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Enrollments grouped by year, class">
                    <field name="class_id" invisible="1"/>
                    <field name="year_id" invisible="1"/>
                    <field name="total_enrollments"/>
                </tree>
            </field>
        </record>

        <record id="enrollments_grouped_by_year_class_action" model="ir.actions.act_window">
            <field name="name">Enrollments Class Year</field>
            <field name="res_model">enrollments.grouped.by.year.class</field>
            <field name="view_mode">tree</field>
            <field name="context">{'group_by': ['year','class']}</field>
            <field name="view_id" ref="enrollments_grouped_by_year_class_tree"/>
        </record>

        <record id="enrollments_by_school_year_graph" model="ir.ui.view">
            <field name="name">enrollments_by_school_year_graph</field>
            <field name="model">enrollments.by.school.year</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Enrollment Count By School Year" type="bar">
                    <field name="year_id"/>
                    <field name="total_enrollments"/>
                </graph>
            </field>
        </record>

        <record id="enrollments_by_school_year_action" model="ir.actions.act_window">
            <field name="name">Enrollments</field>
            <field name="res_model">enrollments.by.school.year</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph</field>
            <field name="view_id" ref="enrollments_by_school_year_graph"/>
        </record>

        <record id="board_board_form" model="ir.ui.view">
            <field name="name">board_board_form</field>
            <field name="model">board.board</field>
            <field name="arch" type="xml">
                <form string="Pedagogy Dashboard" version="7.0">
                    <board style="2-1">
                        <column/>
                        <action
                                string="Enrollments Grouped By Year Class"
                                name="%(enrollments_grouped_by_year_class_tree)d"
                                view_mode="tree"/>
                        <action
                                string="Enrollment Count By School Year"
                                name="%(enrollments_by_school_year_graph)d"
                                view_mode="graph"/>
                        <column/>
                    </board>
                </form>
            </field>
        </record>

        <record id="board_board_action" model="ir.actions.act_window">
            <field name="name">Pedagogy</field>
            <field name="res_model">board.board</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="usage">menu</field>
            <field name="view_id" ref="board_board_form"/>
            <field name="help" type="html">
                <div class="oe_empty_custom_dashboard">
                    <p>
                        <b>Pedagogy dashboard is empty.</b>
                    </p>
                    <p>
                        To add your first report into this dashboard, go to any
                        menu, switch to list or graph view, and click <i>'Add to
                        Dashboard'
                    </i> in the extended search options.
                    </p>
                    <p>
                        You can filter and group data before inserting into the
                        dashboard using the search options.
                    </p>
                </div>
            </field>
        </record>

        <menuitem id="menu_pedagogy_dashboard"
                  parent="base.menu_reporting_dashboard"
                  action="board_board_action"
                  sequence="50"/>

        <menuitem id="menu_pedagogy_reporting"
                  parent="base.menu_reporting"
                  name="Pedagogy"
                  sequence="40"/>

    </data>
</openerp>